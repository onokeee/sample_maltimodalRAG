# ãƒžãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«RAGã‚·ã‚¹ãƒ†ãƒ 

LlamaIndexã€Streamlitã€ChatGPT APIã€ChromaDBã‚’ä½¿ç”¨ã—ãŸãƒžãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«RAGï¼ˆRetrieval-Augmented Generationï¼‰ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## ðŸŽ¯ æ©Ÿèƒ½

- ðŸ“ è¤‡æ•°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå½¢å¼ã‚’ã‚µãƒãƒ¼ãƒˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆã€PDFã€Markdownï¼‰
- ðŸ” ã‚»ãƒžãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ã«ã‚ˆã‚‹é«˜ç²¾åº¦ãªæƒ…å ±æ¤œç´¢
- ðŸ’¬ è‡ªç„¶è¨€èªžã§ã®è³ªå•å¿œç­”
- ðŸ“Š å‚ç…§å…ƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¡¨ç¤º
- ðŸ’¾ æ°¸ç¶šåŒ–ã•ã‚ŒãŸãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢ï¼ˆChromaDBï¼‰
- ðŸŽ¨ ç›´æ„Ÿçš„ãªStreamlit UI

## ðŸ“‹ å¿…è¦è¦ä»¶

- **Python 3.8ä»¥ä¸Š** (Python 3.12, 3.13å¯¾å¿œæ¸ˆã¿)
- OpenAI APIã‚­ãƒ¼

è©³ç´°ã¯ [`PYTHON_VERSION.md`](PYTHON_VERSION.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ðŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆvenvç’°å¢ƒæŽ¨å¥¨ï¼‰

### Windows

**æ–¹æ³•1: è‹±èªžç‰ˆï¼ˆæ–‡å­—åŒ–ã‘ã—ãªã„ï¼‰** â† æŽ¨å¥¨
```cmd
# 1. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆåˆå›žã®ã¿ï¼‰
setup.bat

# 2. PDFã‚µãƒãƒ¼ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆåˆå›žã®ã¿ï¼‰
install_pdf_support.bat

# 3. ã‚¢ãƒ—ãƒªèµ·å‹•
start.bat
```

**æ–¹æ³•2: æ—¥æœ¬èªžç‰ˆï¼ˆç’°å¢ƒã«ã‚ˆã£ã¦ã¯æ–‡å­—åŒ–ã‘ã™ã‚‹å ´åˆã‚ã‚Šï¼‰**
```cmd
# 1. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆåˆå›žã®ã¿ï¼‰
setup_ja.bat

# 2. PDFã‚µãƒãƒ¼ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆåˆå›žã®ã¿ï¼‰
install_pdf_support.bat

# 3. ã‚¢ãƒ—ãƒªèµ·å‹•
start_ja.bat
```

### Mac/Linux

```bash
# 1. å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸Žï¼ˆåˆå›žã®ã¿ï¼‰
chmod +x setup.sh start.sh install_pdf_support.sh

# 2. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆåˆå›žã®ã¿ï¼‰
./setup.sh

# 3. PDFã‚µãƒãƒ¼ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆåˆå›žã®ã¿ï¼‰
./install_pdf_support.sh

# 4. ã‚¢ãƒ—ãƒªèµ·å‹•
./start.sh
```

ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•çš„ã«é–‹ãã€`http://localhost:8501`ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•ã—ã¾ã™ã€‚

## ðŸ“– è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•

- venvç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—: [`VENV_SETUP.md`](VENV_SETUP.md)
- Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±: [`PYTHON_VERSION.md`](PYTHON_VERSION.md)
- å¾“æ¥ã®æ–¹æ³•: [`SETUP.md`](SETUP.md)

## ðŸ’¡ ä½¿ã„æ–¹

### ã‚¹ãƒ†ãƒƒãƒ—1: APIã‚­ãƒ¼ã®è¨­å®š

ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ã€ŒOpenAI APIã‚­ãƒ¼ã€æ¬„ã«APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

ã¾ãŸã¯ã€`.env.example`ã‚’`.env`ã«ã‚³ãƒ”ãƒ¼ã—ã¦ã€APIã‚­ãƒ¼ã‚’è¨­å®šï¼š

```bash
# Windows
copy .env.example .env

# Mac/Linux
cp .env.example .env
```

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

1. ã€ŒðŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ã€ã‚¿ãƒ–ã‚’é–‹ã
2. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆ.txtã€.pdfã€.mdï¼‰
3. ã€ŒðŸ”¨ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**ã‚µãƒ³ãƒ—ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä»˜ã**: ã™ãã«è©¦ã›ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼

### ã‚¹ãƒ†ãƒƒãƒ—3: è³ªå•å¿œç­”

1. ã€ŒðŸ’¬ è³ªå•å¿œç­”ã€ã‚¿ãƒ–ã‚’é–‹ã
2. ãƒãƒ£ãƒƒãƒˆå…¥åŠ›æ¬„ã«è³ªå•ã‚’å…¥åŠ›
3. AIãŒå›žç­”ã‚’ç”Ÿæˆ
4. ã€Œå‚ç…§å…ƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ã§æ ¹æ‹ ã‚’ç¢ºèª

## ðŸ“ ã‚µãƒ³ãƒ—ãƒ«è³ªå•

- ã€ŒLlamaIndexã¨ã¯ä½•ã§ã™ã‹ï¼Ÿã€
- ã€ŒRAGã®ãƒ¡ãƒªãƒƒãƒˆã‚’æ•™ãˆã¦ãã ã•ã„ã€
- ã€ŒStreamlitã§ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹æ–¹æ³•ã¯ï¼Ÿã€
- ã€ŒChromaDBã®ç‰¹å¾´ã‚’ã¾ã¨ã‚ã¦ãã ã•ã„ã€

## ðŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
multimodal_rag/
â”œâ”€â”€ app.py                      # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ run.py                      # èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆç’°å¢ƒãƒã‚§ãƒƒã‚¯ä»˜ãï¼‰
â”œâ”€â”€ requirements.txt            # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆPython 3.12+å¯¾å¿œï¼‰
â”‚
â”œâ”€â”€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ setup.bat               # Windowsç”¨ï¼ˆè‹±èªžï¼‰
â”‚   â”œâ”€â”€ setup_ja.bat            # Windowsç”¨ï¼ˆæ—¥æœ¬èªžï¼‰
â”‚   â”œâ”€â”€ start.bat               # Windowsç”¨èµ·å‹•ï¼ˆè‹±èªžï¼‰
â”‚   â”œâ”€â”€ start_ja.bat            # Windowsç”¨èµ·å‹•ï¼ˆæ—¥æœ¬èªžï¼‰
â”‚   â”œâ”€â”€ setup.sh                # Mac/Linuxç”¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â”œâ”€â”€ start.sh                # Mac/Linuxç”¨èµ·å‹•
â”‚   â”œâ”€â”€ install_pdf_support.bat # PDFå¯¾å¿œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆWindowsï¼‰
â”‚   â””â”€â”€ install_pdf_support.sh  # PDFå¯¾å¿œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆMac/Linuxï¼‰
â”‚
â”œâ”€â”€ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ README.md               # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ QUICKSTART.md           # ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ VENV_SETUP.md           # venvè©³ç´°ã‚¬ã‚¤ãƒ‰
â”‚   â”œâ”€â”€ PYTHON_VERSION.md       # Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
â”‚   â””â”€â”€ SETUP.md                # è©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚
â”œâ”€â”€ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ .env.example            # ç’°å¢ƒå¤‰æ•°ã‚µãƒ³ãƒ—ãƒ«
â”‚   â””â”€â”€ .gitignore              # Gité™¤å¤–è¨­å®š
â”‚
â””â”€â”€ ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    â”œâ”€â”€ uploaded_data/          # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¿å­˜å…ˆ
    â”‚   â”œâ”€â”€ sample_document.txt
    â”‚   â””â”€â”€ streamlit_guide.md
    â”œâ”€â”€ chroma_db/              # ãƒ™ã‚¯ãƒˆãƒ«DBï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
    â””â”€â”€ venv/                   # ä»®æƒ³ç’°å¢ƒï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
```

## ðŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|---------|------|-----------|------|
| RAGãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | LlamaIndex | â‰¥0.11.0 | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã¨æ¤œç´¢ |
| UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Streamlit | â‰¥1.31.0 | Webã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ |
| ãƒ™ã‚¯ãƒˆãƒ«DB | ChromaDB | â‰¥0.4.22 | åŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ«ã®ä¿å­˜ãƒ»æ¤œç´¢ |
| LLM | OpenAI GPT-4o-mini | - | å›žç­”ç”Ÿæˆ |
| åŸ‹ã‚è¾¼ã¿ | text-embedding-3-small | - | ãƒ†ã‚­ã‚¹ãƒˆã®ãƒ™ã‚¯ãƒˆãƒ«åŒ– |
| PDFå‡¦ç† | PyPDF, PDFPlumber, PyMuPDF | - | PDFèª­ã¿è¾¼ã¿ |
| è¨€èªž | Python | 3.8+ | ã™ã¹ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¯¾å¿œ |

## ðŸ› ï¸ ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚º

`app.py`ã®ä»¥ä¸‹ã®è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€å‹•ä½œã‚’ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚ºã§ãã¾ã™ï¼š

```python
# LLMãƒ¢ãƒ‡ãƒ«ã®å¤‰æ›´
Settings.llm = OpenAI(model="gpt-4o", temperature=0.1)

# åŸ‹ã‚è¾¼ã¿ãƒ¢ãƒ‡ãƒ«ã®å¤‰æ›´
Settings.embed_model = OpenAIEmbedding(model="text-embedding-3-large")

# æ¤œç´¢çµæžœã®ä»¶æ•°
query_engine = index.as_query_engine(similarity_top_k=5)
```

## ðŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### PDFãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿è¾¼ã‚ãªã„

```
Failed to load file ... with error: RetryError
```

â†’ PDFã‚µãƒãƒ¼ãƒˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ï¼š

```cmd
# Windows
install_pdf_support.bat

# Mac/Linux
./install_pdf_support.sh
```

ã¾ãŸã¯æ‰‹å‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š

```cmd
venv\Scripts\activate  # Windows
source venv/bin/activate  # Mac/Linux

pip install pypdf pdfminer.six pdfplumber pymupdf llama-index-readers-file
```

### Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼

```
ERROR: Requires-Python >=3.8.1,<3.12
```

â†’ [`PYTHON_VERSION.md`](PYTHON_VERSION.md) ã‚’å‚ç…§ã—ã¦ã€venvç’°å¢ƒã‚’å†ä½œæˆã—ã¦ãã ã•ã„

### æ–‡å­—åŒ–ã‘ã™ã‚‹å ´åˆ

Windowsç’°å¢ƒã§æ—¥æœ¬èªžç‰ˆãƒãƒƒãƒãƒ•ã‚¡ã‚¤ãƒ«ãŒæ–‡å­—åŒ–ã‘ã™ã‚‹å ´åˆã¯ã€è‹±èªžç‰ˆï¼ˆ`setup.bat`ã€`start.bat`ï¼‰ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

### APIã‚­ãƒ¼ã‚¨ãƒ©ãƒ¼

```
Error: Incorrect API key provided
```
â†’ OpenAI APIã‚­ãƒ¼ãŒæ­£ã—ã„ã‹ç¢ºèªã—ã¦ãã ã•ã„

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¨ãƒ©ãƒ¼

```cmd
# pipã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
python -m pip install --upgrade pip

# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’å†å®Ÿè¡Œ
setup.bat  # Windowsï¼ˆè‹±èªžç‰ˆï¼‰
./setup.sh # Mac/Linux
```

### ChromaDBã‚¨ãƒ©ãƒ¼

â†’ ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã€ŒðŸ—‘ï¸ å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

### è©³ç´°ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

- [`VENV_SETUP.md`](VENV_SETUP.md) - venvç’°å¢ƒã®å•é¡Œ
- [`PYTHON_VERSION.md`](PYTHON_VERSION.md) - Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å•é¡Œ

## ðŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [`QUICKSTART.md`](QUICKSTART.md) - æœ€é€Ÿã§èµ·å‹•ã™ã‚‹æ–¹æ³•
- [`VENV_SETUP.md`](VENV_SETUP.md) - venvç’°å¢ƒã®è©³ç´°ã‚¬ã‚¤ãƒ‰
- [`PYTHON_VERSION.md`](PYTHON_VERSION.md) - Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
- [`SETUP.md`](SETUP.md) - å¾“æ¥ã®æ–¹æ³•ã§ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

## ðŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã€GitHubã®Issueã§å—ã‘ä»˜ã‘ã¦ã„ã¾ã™ã€‚

## ðŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ðŸ™ è¬è¾ž

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä»¥ä¸‹ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼š

- [LlamaIndex](https://www.llamaindex.ai/)
- [Streamlit](https://streamlit.io/)
- [ChromaDB](https://www.trychroma.com/)
- [OpenAI API](https://openai.com/api/)
- [PyPDF](https://pypdf.readthedocs.io/)
- [PDFPlumber](https://github.com/jsvine/pdfplumber)
- [PyMuPDF](https://pymupdf.readthedocs.io/)

---

**Python 3.8ã€œ3.13ã¾ã§å®Œå…¨å¯¾å¿œï¼è³ªå•ã‚„ã‚µãƒãƒ¼ãƒˆãŒå¿…è¦ãªå ´åˆã¯ã€GitHubã®Issueã§ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ï¼**
